<div *ngIf="peerId">
    <div class="row div-button-sidenav">
        <button class="button-background" (click)="isHide = !isHide">
            <span class="col-md-12 show-call">
                <i class="material-icons text">phone</i>
            </span>
        </button>
    </div>

    <div id="call-modal" [hidden]="isHide">
        <div class="row call-section">
            <div *ngIf="!isCallActive" class="row width-max">
                <p class="center-text action-text">Calling ...</p>
            </div>
            <button class="hide-button" (click)="isHide = true">Hide</button>

            <div class="row mid-section width-max">
                <div *ngIf="isCallActive">
                    <div *ngFor="let user of userList">
                        <span>{{user.username}}</span>
                        <video [hidden]="!user.videoStream || !user.videoStream.enabled" [src]="user.videoURL"
                               class="theirVideo" autoplay [poster]="user.pictureId | displayProfileImage"></video>
                        <img [hidden]="user.videoStream && user.videoStream.enabled"
                             [src]="user.pictureId | displayProfileImage" alt="user picture" style="max-width: 300px">
                    </div>
                </div>
            </div>

            <div id="me" class="row width-max">
                <div class="col-md-offset-8 col-md-4">
                    <video [hidden]="!myVideoStream || !myVideoStream.enabled" [src]="myVideo" class="myVideo"
                           onloadedmetadata="this.muted = true" muted autoplay [poster]="myPicture | displayProfileImage"></video>
                    <img [hidden]="myVideoStream && myVideoStream.enabled" [src]="myPicture | displayProfileImage"
                         alt="user picture" style="max-width: 300px">
                </div>
            </div>

            <div class="row width-max">
                <div class="action-buttons">
                    <button (click)="mute()">{{micButton}}</button>
                    <button *ngIf="camButton" (click)="video()">{{camButton}}</button>
                    <button (click)="stopCall()">Stop call</button>
                    <a md-button *ngIf="chat" [routerLink]="['/chat/'+chat._id]" (click)="isHide = true">Go to chat</a>
                </div>
            </div>
        </div>
    </div>

</div>
